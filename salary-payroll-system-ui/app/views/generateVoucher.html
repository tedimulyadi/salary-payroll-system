<style>
    th {
        vertical-align: center;
        text-align: center;
    }
    a:hover {
        cursor: pointer;
        text-decoration: none;
    }
</style>
<!-- Content Header (Page header) -->
<section class="content-header">
	<h1>
        Generate Voucher
        <small>Control panel</small>
     </h1>
     <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Generate Voucher</li>
     </ol>
</section>

<!-- Main content -->
<section class="content" >
	<div class="row">
		<div class="col-xs-5">
			<form name="formVoucher">
				<div class="panel panel-default">
					<div class="panel-heading">
						<span class="panel-title">Generate Voucher</span>
					</div>
					<div class="panel-body">
						<div class="form-horizontal">
							<div 
								class="form-group" 
								ng-class="{
									'has-error':formVoucher.amount.$invalid, 
									'has-success':formVoucher.amount.$valid
								}">
								<div class="col-sm-4">
									<label class="control-label">Amount</label>
								</div>
								<div class="col-sm-8" align="right">
									<div class="radio-inline">
										<label>
											<input 
												name="amount" 
												value="20000" 
												type="radio" 
												ng-model="currentVoucher.amount" 
												required /> 
												20,000
										</label>
									</div>
									<div class="radio-inline">
										<label>
											<input 
												name="amount" 
												value="50000" 
												type="radio" 
												ng-model="currentVoucher.amount" 
												required />
												50,000
										</label>
									</div>
									<div class="radio-inline">
										<label>
											<input 
												name="amount" 
												value="100000" 
												type="radio" 
												ng-model="currentVoucher.amount" 
												required/>
												100,000
										</label>
									</div>
									<span 
										style="float:right; color:white" 
										class="help-block label label-danger" 
										ng-show="formVoucher.amount.$error.required">
										This Field is Required
									</span>
								</div>
							</div>
							<div 
								class="form-group" 
								ng-class="{
									'has-error':formVoucher.qty.$invalid, 
									'has-success':formVoucher.qty.$valid
								}">
								<div class="col-sm-4">
									<label for="qty" class="control-label">Quantity</label>
								</div>
								<div class="col-sm-8">
									<input 
										type="text" 
										class="form-control" 
										id="qty" 
										name="qty"
										ng-model="currentVoucher.qty"
										ng-pattern = "onlyNumbers" 
										required />
									<span 
										style="float:right; color:white" 
										class="help-block label label-danger" 
										ng-show="formVoucher.qty.$error.required">
										This Field is Required
									</span>
									<span 
										style="float:right; color:white" 
										class="help-block label label-danger" 
										ng-show="formVoucher.qty.$error.pattern">
										Invalid Number
									</span>
								</div>
							</div>
							<div align="right">
								<button 
									class="btn btn-primary" 
									ng-click="generate()" 
									ng-disabled="isClean() || formVoucher.$invalid">
									Generate
								</button>
								<button 
									class="btn btn-default" 
									ng-click="clear()">
									Cancel
								</button>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="col-xs-7">
			<div class="box">
				<div class="box-body">
					<table class="table table-bordered table-hover">
						<thead>
							<tr>
								<th>
									Token Number
								</th>
								<th>
									Expiry
								</th>
								<th>
									Amount
								</th>
								<th>
									Status
								</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="x in vouchers">
								<td>{{x.tokenNumber}}</td>
								<td>{{x.expiry}}</td>
								<td>{{x.amount}}</td>
								<td>{{x.status}}</td>
								<td class="col-xs-1">
									<a class="glyphicon glyphicon-remove" ng-click="remove(x)"></a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="box-footer clearfix">
					<div align="center">
						<pagination 
							total-items="elements" 
							ng-model="currentPage"
							ng-change="reloadVoucher()"
							class="pagination-sm"
							items-per-page="10"
							max-size="10"
							boundary-links="true"
							previous-text="&lsaquo;"
							next-text="&rsaquo;"
							first-text="&laquo;"
							last-text="&raquo;">
						</pagination>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- Prevent character in quantity textfield -->
<script>
    $(document).ready(function() {
    $("#qty").keydown(function (e) {
        // Allow: backspace, delete, tab, escape, enter and .
        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
             // Allow: Ctrl+A
            (e.keyCode == 65 && e.ctrlKey === true) || 
             // Allow: home, end, left, right
            (e.keyCode >= 35 && e.keyCode <= 39)) {
                 // let it happen, don't do anything
                 return;
        }
        // Ensure that it is a number and stop the keypress
        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
            e.preventDefault();
        }
    });
});
</script>
